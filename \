use derive_macro::{Bincode, GenericBincode};
use serde::{Deserialize, Serialize};

#[derive(Serialize, Deserialize, GenericBincode)]
struct Message<T> {
    r#type: MessageType,
    data: T,
}

#[derive(Deserialize, Serialize, Bincode)]
#[serde(untagged)]
enum MessageType {
    Action,
    Movement,
    Inventory,
    Transaction,
    Custom,
}
